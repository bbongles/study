<html>
<head>
  <meta charset="utf-8">
</head>

<!-- 컴포넌트로 조립하기 -->
<body>
	<!-- 
	- Vue에서 컴포넌트는 미리 정의된 옵션을 가진 Vue 인스턴스
	- Vue에서 컴포넌트 시스템이란 작고 독립적이며 재사용할 수 있는 컴포넌트로 구성된 대규모 어플리케이션을 구축할 수 있는 추상적 개념
	- 거의 모든 유형의 애플리케이션 인터페이스를 컴포넌트 트리로 추상화 가능
	-->
	
	<!-- 
	- v-bind를 사용하여 할일을 개별 todo-item 컴포넌트에 전달 
	-->
	<div id="todo-list-app">
		<ol>
			<!--
			- todo-item에 할일을 전달
			- 콘텐츠는 동적으로 포현
			- 여기에서 "key"를 전달하는 부분에 대한 내용은 차후 확인
			-->
			<todo-item v-for="item in groceryList" v-bind:todo="item" v-bind:key="item.id">
			</todo-item>
		</ol>
	</div>
	
	<!-- 컴포넌트를 사용한 앱의 모습이 어떻게 구성될지에 대한 가상의 예
	<div id="app">
		<app-nav></app-nav>
		<app-view>
			<app-sidebar></app-sidebar>
			<app-content></app-content>
		</app-view>
	</div>
	-->
	
	<!-- (참고) 사용자 정의 엘리먼트와의 관계
	Vue 컴포넌트는 Web Components 표준 (opens new window)의 일부인 Custom Elements 와 매우 유사하다는 것을 눈치 챘을 수 있습니다.
	Vue의 컴포넌트 구문은 스펙 이후 느슨하게 모델링 되었기 때문입니다.
	예를 들어 Vue 컴포넌트는 Slot API (opens new window)와 is 특수 속성을 구현합니다.
	그러나 몇가지 중요한 차이가 있습니다.
	
	1. Web Components Spec은 최종안이 정해졌지만 모든 브라우저들이 기본적으로 구현되는 것은 아닙니다.
	현재 사파리 10.1+, 크롬 54+ 그리고 파이어폭스 63+ 기본적으로 Web Components를 지원합니다.
	이에 비해 Vue 컴포넌트는 지원되는 모든 브라우저 (IE11과 호환되거나 그 이상버젼)에서 일관되게 작동합니다.
	필요한 경우 Vue 컴포넌트는 기본 사용자 정의 엘리먼트 내에 래핑할 수 있습니다.
	
	2. Vue 컴포넌트는 컴포넌트간 데이터의 흐름을 비롯해, 사용자 정의 이벤트와 통신,
	빌드 도구와의 통합 등 기본 사용자 지정 엘리먼트에서 사용할 수 없었던 중요한 기능을 제공합니다.
	
	Vue는 내부적으로 사용자 정의 엘리먼트를 사용하지 않지만, 
	사용자 정의 엘리먼트로 사용 또는 배포하는 경우에는 뛰어난 상호운영성 (opens new window)을 가집니다. 
	Vue CLI는 자기자신을 네이티브 커스텀 엘리먼트로서 등록하는 Vue 컴포넌트의 빌드도 지원하고 있습니다.
	-->
	
</body>

<script src="https://unpkg.com/vue@next"></script>
<script type="text/javascript">
	const TodoList = {
		data() {
			return {
				groceryList: [
					{ id: 0, text: '야채' },
					{ id: 1, text: '치즈' },
					{ id: 2, text: '사람이 먹을 수 있는거라면 뭐든지' }
				]
			}
		}
	}
	
	// 뷰 어플리케이션 생성
	const app = Vue.createApp(TodoList)
	
	// todo-item이란 이름의 새로운 컴포넌트를 선언
	app.component('todo-item', {
		props: ['todo'], // 부모 영역의 데이터를 자식 컴포넌트에 전달할 수 있도록 props를 활용
		template: '<li>{{ todo.text }}</li>'
	})
	
	// 어플리케이션 마운트
	app.mount('#todo-list-app')
</script>

</html>